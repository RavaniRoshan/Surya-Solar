# For Developers

This document provides in-depth technical details for developers working on the ZERO-COMP project.

## API and Database

### Key API Endpoints

- `GET /health`: Health check for the API.
- `GET /api/v1/alerts/current`: Get the most recent solar flare prediction.
- `GET /api/v1/alerts/history`: Retrieve historical prediction data.
- `POST /api/v1/users/register`: Register a new user.
- `POST /api/v1/users/login`: Authenticate and receive a JWT.
- `WEBSOCKET /ws/alerts`: Establish a WebSocket connection for real-time alerts.

### Database Schema

The database schema is managed by Supabase and defined in the `database/` directory. The key tables are:

- **`predictions`**: Stores all solar flare predictions generated by the Surya-1.0 model.
- **`user_subscriptions`**: Manages user accounts, subscription tiers (`free`, `pro`, `enterprise`), and API keys.
- **`api_usage`**: Tracks API requests for analytics and rate-limiting purposes.
- **`alert_notifications`**: Logs all alerts (WebSocket, webhook, etc.) sent to users.
- **`system_metrics`**: Records system health and performance metrics.

For the complete schema, including indexes, policies, and views, please refer to the `database/schema.sql` file.

## Backend Services

The backend is composed of several key services that work together to provide the functionality of the ZERO-COMP platform.

### Prediction Scheduler

The prediction scheduler is responsible for fetching the latest solar data from NASA, running the model inference, and storing the results in the database. This service runs on a 10-minute interval.

### Model Inference Engine

The model inference engine is responsible for loading the Surya-1.0 model from Hugging Face and using it to generate predictions based on the input data from the prediction scheduler.

### Real-time Alerts

The real-time alert system uses WebSockets to push new predictions to connected clients as soon as they are available. The `alert_broadcaster` service is responsible for this.

## Frontend

The frontend is a Next.js application that provides a real-time dashboard for visualizing solar activity. It communicates with the backend via the REST API and WebSockets.

For more information on the frontend architecture, please refer to the `frontend/README.md` file.
